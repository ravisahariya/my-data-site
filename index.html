<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Duty Register</title>

<style>
body{font-family:system-ui;background:#eef2f7}
.card{max-width:1000px;margin:20px auto;padding:20px;background:#fff;border-radius:10px}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ccc;padding:6px;text-align:center}
</style>
</head>

<body>

<div class="card">

<h3>Duty Entry</h3>

<form id="form">

Company:
<input id="company" required>

Date:
<input type="date" id="date" required>

Start:
<input type="time" id="start">

End:
<input type="time" id="end">

Work:
<input id="work">

Font:
<input type="color" id="fc" value="#ff0000">

BG:
<input type="color" id="bc" value="#ffff00">

<button>Save</button>

</form>

<hr>

<table>
<thead>
<tr>
<th>Company</th>
<th>Date</th>
<th>Time</th>
<th>Work</th>
<th>Action</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>

</div>


<script>

let editIndex=-1;

/* SAVE */
form.onsubmit=function(e){

 e.preventDefault();

 let data=JSON.parse(localStorage.getItem("duty")||"[]");

 let obj={
  company:company.value,
  date:date.value,
  start:start.value,
  end:end.value,
  work:work.value,
  font:fc.value,
  bg:bc.value
 };

 if(editIndex>=0){
  data[editIndex]=obj;
  editIndex=-1;
 }else{
  data.push(obj);
 }

 localStorage.setItem("duty",JSON.stringify(data));

 form.reset();
 load();
};


/* LOAD TABLE */
function load(){

 let data=JSON.parse(localStorage.getItem("duty")||"[]");

 tbody.innerHTML="";

 data.forEach((x,i)=>{

  let tr=document.createElement("tr");

  /* ⭐⭐⭐ COLOUR GUARANTEE ⭐⭐⭐ */
  tr.style.color = x.font;
  tr.style.backgroundColor = x.bg;

  tr.innerHTML=`
  <td>${x.company}</td>
  <td>${x.date}</td>
  <td>${x.start}-${x.end}</td>
  <td>${x.work}</td>
  <td><button onclick="del(${i})">Delete</button></td>
  `;

  tbody.appendChild(tr);

 });

}

function del(i){
 let d=JSON.parse(localStorage.getItem("duty"));
 d.splice(i,1);
 localStorage.setItem("duty",JSON.stringify(d));
 load();
}

load();

</script>

</body>
</html>
