<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>User Data</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="manifest" href="manifest.json">
<style>
body{font-family:Arial;background:#e3f2fd}
.card{max-width:360px;margin:80px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.3)}
input,select,button{width:100%;padding:10px;margin:6px 0}
button{background:#1976d2;color:#fff;border:none;border-radius:6px}
.icon{float:right;cursor:pointer}
.hide{display:none}
</style>
</head>
<body>

<div class="card" id="loginBox">
<span class="icon" onclick="openReset()">ЁЯФТ</span>
<h2>Login</h2>
<select id="user">
<option>Admin</option>
<option>Arvind</option>
</select>
<input type="password" id="pass" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<div class="card hide" id="resetBox">
<h2>рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓реЗрдВ</h2>
<select id="rUser"><option>Admin</option><option>Arvind</option></select>
<input id="oldP" placeholder="рдкреБрд░рд╛рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб">
<input id="newP" placeholder="рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб">
<button onclick="resetPass()">Save</button>
<button onclick="closeReset()">Close</button>
</div>

<script>
let passDB = JSON.parse(localStorage.passDB || '{"Admin":"7024","Arvind":"1234"}');

function speak(t){
  let s=new SpeechSynthesisUtterance(t);
  s.lang="hi-IN"; s.rate=1; s.volume=1;
  speechSynthesis.speak(s);
}

function login(){
  if(pass.value===passDB[user.value]){
    localStorage.session=user.value;
    speak(user.value==="Admin"
      ?"рдПрдбрдорд┐рди рд▓реЙрдЧрд┐рди рд╕рдлрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИ"
      :"рдЕрд░рд╡рд┐рдВрдж рдЕрдЯреЗрдВрдбреЗрдВрд╕ рдкреИрдирд▓ рдЦреБрд▓ рдЧрдпрд╛ рд╣реИ");
    setTimeout(()=>{
      location.href = user.value==="Admin"?"admin.html":"arvind.html";
    },700);
  }else alert("рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб");
}

function openReset(){resetBox.classList.remove("hide")}
function closeReset(){resetBox.classList.add("hide")}

function resetPass(){
  if(passDB[rUser.value]!==oldP.value) return alert("рдкреБрд░рд╛рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЧрд▓рдд рд╣реИ");
  passDB[rUser.value]=newP.value;
  localStorage.passDB=JSON.stringify(passDB);
  speak("рдкрд╛рд╕рд╡рд░реНрдб рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ");
  closeReset();
}

if('serviceWorker' in navigator){
  navigator.serviceWorker.register('service-worker.js');
}
</script>
</body>
</html>
